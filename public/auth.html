<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidad | AWS User Group Playa Vicente</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/header.css">
</head>
<body>
    <div id="header-placeholder"></div>
    
    <main class="main-content">
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">ü¶à √önete a Nuestra Comunidad</h1>
                <p class="hero-subtitle">AWS User Group Playa Vicente - Tecnolog√≠a, Aprendizaje y Crecimiento</p>
                
                <div id="authMessage" class="info-message" style="display: none;"></div>
                
                <div class="cta-buttons">
                    <button id="googleLoginBtn" class="btn-primary">
                        <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" width="20" height="20">
                        Continuar con Google
                    </button>
                </div>
                
                <div class="community-features">
                    <div class="feature">
                        <span class="feature-icon">‚òÅÔ∏è</span>
                        <span>Cloud Computing</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üîí</span>
                        <span>Ciberseguridad</span>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">üíª</span>
                        <span>Desarrollo</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/script-loader.js"></script>
    
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const redirect = urlParams.get('redirect');
        const reason = urlParams.get('reason');
        
        const authMessage = document.getElementById('authMessage');
        if (reason && authMessage) {
            authMessage.textContent = '‚ÑπÔ∏è Inicia sesi√≥n para acceder a todas las funcionalidades de la comunidad.';
            authMessage.style.display = 'block';
        }
        
        document.getElementById('googleLoginBtn').addEventListener('click', () => {
            if (redirect) {
                sessionStorage.setItem('postLoginRedirect', redirect);
            }
            
            const cognitoAuthUrl = 'https://auth.tiburoncp.siegfried-fs.com/oauth2/authorize?' +
                'client_id=1gsjecdf86pgdgvvis7l30hha1&' +
                'response_type=code&' +
                'scope=email+openid+profile+aws.cognito.signin.user.admin&' +
                'redirect_uri=' + encodeURIComponent(window.location.origin) + '&' +
                'identity_provider=Google';
            
            window.location.href = cognitoAuthUrl;
        });
        
        document.addEventListener('DOMContentLoaded', () => {
            // Mensaje estrat√©gico para desarrolladores curiosos
            console.log('%cü¶à ¬°Hola, explorador curioso!', 'color: #ff6b6b; font-size: 18px; font-weight: bold;');
            console.log('%cVeo que sabes d√≥nde mirar. Si tienes la paciencia de un defensor y el ojo de un atacante, nuestra comunidad te necesita.', 'color: #4ecdc4; font-size: 14px;');
            console.log('%cLa seguridad no es un destino, sino un viaje. Si encuentras un atajo o una grieta, no la explotes, rep√≥rtala.', 'color: #45b7d1; font-size: 14px;');
            console.log('%c¬°Colaboremos en lugar de competir!', 'color: #96ceb4; font-size: 16px; font-weight: bold;');
            console.log('%cüìß roberto.flores@siegfried-fs.com | üì± https://t.me/+NWYivRxl7fQ4MzNh', 'color: #a29bfe; font-size: 14px;');
            
            const accessToken = sessionStorage.getItem('accessToken');
            if (accessToken) {
                const redirectTo = redirect || 'index';
                window.location.href = redirectTo + '.html';
            }
        });
    </script>
</body>
</html>
